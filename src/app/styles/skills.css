@tailwind components;

:root {
  --bg-light: #ffffff;
  --bg-light-rgb: 255, 255, 255;

  --surface-light: #f3f3f3;
  --surface-light-rgb: 243, 243, 243;

  --text-light: #111827;
  --primary-light: #3299c9;
}

.dark {
  --bg-dark: #0f0f0f;
  --bg-dark-rgb: 15, 15, 15;

  --surface-dark: #1a1a1a;
  --surface-dark-rgb: 26, 26, 26;

  --text-dark: #f5f5f5;
  --primary-dark: #4FC3F7;
}

@layer components {
  /* Category Buttons */
  .skill-categories {
    @apply mt-4 flex flex-row flex-wrap gap-4 justify-center;
  }

  @media (max-width: 480px) {
    .skill-categories {
      padding-left: 3rem;
      padding-right: 3rem;
    }
  }

  .skill-category-btn {
    @apply px-4 py-2 rounded-full border transition-colors
      bg-transparent border-gray-300 text-text-light
      dark:border-primary-dark dark:text-text-dark;
  }

  .skill-category-btn.active {
    @apply bg-primary-light text-white dark:bg-primary-dark;
  }

  /* Skills container */
  .skill-container {
    @apply mt-6 w-full relative overflow-hidden; /* desktop default */
  }

  .skill-scroll-wrapper {
    @apply relative w-full overflow-visible;
  }

  /* Mobile: horizontal scroll */
  @media (max-width: 767px) {
    .skill-container {
      @apply overflow-x-visible overflow-y-hidden relative;
      /* scroll-behavior: smooth; */
      max-width: 100vw;
      padding-left: 3em;  /* matches gradient width */
      padding-right: 3em;
      box-sizing: border-box;
    }
  }

  @media (max-width: 767px) {
    .skill-scroll {
      position: relative;        /* âœ… anchor gradients */
      overflow-x: auto;
      overflow-y: hidden;

      max-width: 100vw;
      scroll-behavior: smooth;

      padding-left: 3rem;        /* space under left gradient */
      padding-right: 3rem;       /* space under right gradient */
      box-sizing: border-box;
    }
  }

  /* Skill Track */
  .skill-track {
    @apply flex gap-6 py-2;
    width: max-content;
  }

  /* Desktop marquee */
  .skill-track.scrolling {
    display: flex;
    flex-wrap: nowrap;
    width: max-content; /* ensure no wrapping */
    animation: marquee linear infinite;
  }

  .skill-track.paused {
    animation-play-state: paused;
  }

  .skill-track.static {
    @apply flex-wrap justify-center;
  }

  @media (min-width: 768px) {
    .skill-track.static {
      @apply w-full;
    }
  }

  /* Mobile: horizontal scroll row */
  @media (max-width: 767px) {
    .skill-track {
      @apply flex-nowrap inline-flex items-start;
      width: max-content;
    }
  }

  /* Gradients */
  .skill-gradient-left,
  .skill-gradient-right {
    @apply absolute top-0 bottom-0 w-12 pointer-events-none; /* adjust width */
    z-index: 20;
  }

  .skill-gradient-left {
    left: 0;
    background: linear-gradient(
      to right,
      var(--bg-light) 0%,
      rgba(var(--bg-light-rgb), 0.8) 25%,
      rgba(var(--bg-light-rgb), 0.4) 50%,
      transparent 100%
    );
    position: absolute;
    top: 0;
    bottom: 0;
    width: 3rem;
    z-index: 50;
    pointer-events: none;
  }

  .skill-gradient-right {
    right: 0;
    background: linear-gradient(
      to left,
      var(--bg-light) 0%,
      rgba(var(--bg-light-rgb), 0.8) 25%,
      rgba(var(--bg-light-rgb), 0.4) 50%,
      transparent 100%
    );
    position: absolute;
    top: 0;
    bottom: 0;
    width: 3rem;
    z-index: 50;
    pointer-events: none;
  }

  /* Dark mode gradients */
  .dark .skill-gradient-left {
    background: linear-gradient(
      to right,
      var(--bg-dark) 0%,
      rgba(var(--bg-dark-rgb), 0.8) 25%,
      rgba(var(--bg-dark-rgb), 0.4) 50%,
      transparent 100%
    );
  }

  .dark .skill-gradient-right {
    background: linear-gradient(
      to left,
      var(--bg-dark) 0%,
      rgba(var(--bg-dark-rgb), 0.8) 25%,
      rgba(var(--bg-dark-rgb), 0.4) 50%,
      transparent 100%
    );
  }

  /* Smooth infinite marquee */
  .animate-marquee {
    animation: marquee 50s linear infinite;
  }

  .animate-marquee:hover {
    animation-play-state: paused;
  }

  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  /* Skill card */
  .skill-card {
    @apply flex flex-col justify-between items-center
      bg-surface-light dark:bg-surface-dark
      rounded-xl p-4 w-32 h-32 shrink-0
      shadow-md transition-transform
      hover:scale-105 cursor-pointer
      border border-transparent hover:border-primary-light
      dark:hover:border-primary-dark;
    transform-origin: center;
  }

  .skill-icon-wrapper {
    @apply h-16 flex items-center justify-center;
  }

  .skill-icon {
    @apply object-contain;
  }

  .skill-name {
    @apply text-lg text-text-light dark:text-text-dark text-center;
  }
}
